-DATASET CSV empty
-BUFFER_POOL_SIZE 134217728

--

-CASE CopyFromTest
-SKIP_IN_MEM
-STATEMENT LOAD EXTENSION "${KUZU_ROOT_DIRECTORY}/extension/json/build/libjson.kuzu_extension";
---- ok
-STATEMENT CREATE NODE TABLE Person (id SERIAL, name STRING, registryDate DATE, info STRUCT(height DOUBLE, age INT64, previousUsernames STRING[]), PRIMARY KEY(id));
---- ok
-STATEMENT COPY Person FROM '${KUZU_ROOT_DIRECTORY}/dataset/doc-examples-json/people.json';
---- ok
-STATEMENT MATCH (p:Person) return p.* ORDER BY p.id DESC;
---- 3
0|Gregory||
1|Bob||{height: 1.810000, age: 71, previousUsernames: [theBuilder,theMinion]}
2|Alice|2024-07-31|{height: 1.680000, age: 45, previousUsernames: [obviouslyAlice,definitelyNotAlice]}
-STATEMENT DROP TABLE Person;
---- ok
-STATEMENT CREATE NODE TABLE Person (id SERIAL, name STRING, info STRUCT(height DOUBLE, age INT64, previousUsernames STRING[]), PRIMARY KEY(id));
---- ok
-STATEMENT CREATE (:Person {name: "Alice", info: {height: 1.68, age: 45, previousUsernames: ["obviouslyAlice", "definitelyNotAlice"]}});
---- ok
-STATEMENT CREATE (:Person {name: "Bob", info: {height: 1.81, age: 71, previousUsernames: ["theBuilder", "theMinion"]}});
---- ok
-STATEMENT CREATE (:Person {name: "Gregory", info: {height: 1.73, age: 22, previousUsernames: ["gregory7"]}});
---- ok
-STATEMENT COPY (match (p:Person) return p.*) to '${DATABASE_PATH}/people-output.json';
---- ok
-STATEMENT LOAD FROM '${DATABASE_PATH}/people-output.json' RETURN *;
---- 3
2|Gregory|{height: 1.730000, age: 22, previousUsernames: [gregory7]}
1|Bob|{height: 1.810000, age: 71, previousUsernames: [theBuilder,theMinion]}
0|Alice|{height: 1.680000, age: 45, previousUsernames: [obviouslyAlice,definitelyNotAlice]}

